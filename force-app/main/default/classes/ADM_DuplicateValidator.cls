public class ADM_DuplicateValidator {        public static Integer countBy(String objectName, String uniqueFieldName, String fieldValue, String excludedID) {        ADM_TextUtils textUtils = new ADM_TextUtils();  	    	    	return getBy(textUtils.escapeHTML(objectName), textUtils.escapeHTML(uniqueFieldName), textUtils.escapeHTML(fieldValue), excludedID).size();	  	    }        public static List<SObject> getBy(String objectName, String uniqueFieldName, String fieldValue, String excludedID) {    	//return [select count() from ADM_Release__c where id != :excludedID and Name = :releaseName];    	String sql;    	if(excludedID != null) {    		sql = 'select id, Name from ' + objectName  + ' where id !=' + '\'' + excludedID + '\'' + ' and ' + uniqueFieldName + '=' + '\'' + fieldValue + '\'';    	} else {    		sql = 'select id, Name from ' +  objectName + ' where ' + uniqueFieldName + '=' + '\'' + fieldValue + '\'';	    	}		    	    	    	//Apex doesn't like this type of syntax: List<? extends SObject> results; or passing the type by variable or enum so hardcoding for now    	List<SObject> results = null;    	if(objectName == 'ADM_Release__c') {    		results = new List<ADM_Release__c>();    	} else if (objectName == 'ADM_Build__c') {    		results = new List<ADM_Build__c>();    	}	    	//for( ADM_Work__c work : Database.query(sql)){       	for(SObject obj : Database.query(sql)) {    		results.add(obj);    	}    	return results;	    }        public static String removeAllPunctuationAndWhitespace(String fieldValue) {    	return removeAllPunctuation(removeAllWhitespace(fieldValue));    }        public static String removeAllPunctuation(String fieldValue) {    	return fieldValue.replaceAll('-', '').replaceAll('_', '');    }        public static String removeAllWhitespace(String fieldValue) {    	return fieldValue.replaceAll('\\s', '');    }			}