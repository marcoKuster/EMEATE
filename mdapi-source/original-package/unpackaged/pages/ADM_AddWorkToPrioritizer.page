<apex:page standardController="ADM_Work__c" extensions="ADM_AddWorkToPrioritizerExtension" recordSetVar="stories" sidebar="false" showHeader="false">    <apex:include pageName="ADM_common_css"/>    <apex:include pageName="ADM_Overlay_CSS"/>    <script type="text/javascript" src="{!URLFOR($Resource.DojoJS, 'dojo/dojo.js')}" djConfig="parseOnLoad:true, isDebug:false"></script>    <script type="text/javascript" src="{!$Resource.boxover}"/>         <!--Start div overlay container, this box specifies the width of the overlay-->    <apex:outputPanel id="pageWrapper">	    <div id="overlay">	        <apex:outputPanel id="overlaycontainer" layout="block" styleClass="overlaycontainer" style="width:400px">	            <!--TOOL BAR-->	            <apex:outputPanel layout="block" styleClass="overlaylefttopcrn">                	                <apex:outputPanel layout="block" styleClass="overlaytoolbar">	                    <apex:outputPanel style="color:#ffffff; font-weight:bold; font-size:1.2em;">	                        &nbsp;	                    </apex:outputPanel>	                </apex:outputPanel>	            </apex:outputPanel>	            <!--CONTENT DIV TOOL BAR-->	            <apex:outputPanel layout="block" styleClass="overlaycontentbox" style="text-align:center;font-size:150%;">	                <apex:image url="{!$Resource.ajaxloaderlarge}" alt="Loading" style="padding:0 5px;"/> <span id="loadingMessage">Loading...</span>	            </apex:outputPanel>	            <!--BOTTOM CORNERS AND BOTTOM BORDER-->	            <apex:outputPanel layout="block" styleClass="overlayleftbtmcrn"><apex:outputPanel layout="block" styleClass="overlaybtm"></apex:outputPanel></apex:outputPanel>	            <!-- overlay container div-->	        </apex:outputPanel>	    </div>	    <apex:pageMessages ></apex:pageMessages>	    <apex:form id="scrumteamWorkForm" styleClass="work_ids"> 	        <apex:panelGrid columns="2">	            <apex:outputLabel value="View:"/>		        <apex:selectList value="{!setController.filterId}" size="1">		            <apex:selectOptions value="{!setController.ListViewOptions}" />		            <apex:actionSupport event="onchange" rerender="pageWrapper" />		        </apex:selectList>	        </apex:panelGrid>  	        	        <apex:pageBlock title="Work">     	            <apex:pageBlockButtons location="top">	                <apex:commandButton action="{!save}" value="Update View" onclick="overlay('Updating...');"/>			        <apex:outputPanel layout="inline" title="body=[Work records that are in a closed status or assigned to a scrum team other than {!scrumteam.Name} are disabled on this page. Update your list view criteria if you would like to omit those records from this page.] cssheader=[tooltipheader] cssbody=[tooltipbody]" 			          styleClass="opacity_40_percent" style="float:right;padding:2px;" onmouseover="dojo.removeClass(this,'opacity_40_percent')" onmouseout="dojo.addClass(this,'opacity_40_percent')">			            <apex:image url="{!$Resource.ADM_help_icon}" alt="" title="" />			        </apex:outputPanel>	            </apex:pageBlockButtons>	            <apex:outputPanel rendered="{!setController.resultSize = 0}">{!message}</apex:outputPanel>	            <apex:pageBlockTable title="Work" width="100%" border="0" cellpadding="0" cellspacing="0" styleClass="list tableSize" headerClass="headerRow" value="{!works}" var="wrapper" rowClasses="odd,even" rendered="{!works.size > 0}">	                <apex:column width="25px">	                    <apex:facet name="header">	                        <apex:outputPanel >	                            <input type="checkbox" id="checkAllAuto" onclick="javascript:SelectAllOrNoneByCheckbox('work_ids', this);" /> 	                        </apex:outputPanel>	                    </apex:facet>	                    <apex:inputCheckbox id="ids" value="{!wrapper.checked}" styleClass="work_ids" disabled="{!OR(NOT(CONTAINS(wrapper.work.Scrum_Team__c,scrumteamId)),wrapper.work.Closed__c > 0.0,wrapper.work.RecordType.Name = templateName, LEN(wrapper.work.Scrum_Team__c) = 0, LEN(scrumteamId) =0)}"/>	                </apex:column>	                <apex:column >	                    <apex:facet name="header">Work</apex:facet>        	                    <apex:outputLink value="/{!wrapper.work.id}" target="_parent" >	                        <apex:outputField value="{!wrapper.work.Name}" />	                    </apex:outputLink>	                </apex:column>                           <apex:column headerValue="Priority" value="{!wrapper.work.Priority__c}"/>                    <apex:column headervalue="Record Type" value="{!wrapper.work.RecordType.Name}"/>	                <apex:column >                        <apex:facet name="header">Subject</apex:facet>                        <apex:outputText value="{!LEFT(wrapper.work.Subject__c,50)}"/>                        <apex:outputText value="..." rendered="{!LEN(wrapper.work.Subject__c) > 50}" ></apex:outputText>                    </apex:column> 	                <apex:column headerValue="Status" value="{!wrapper.work.Status__c}"/>   	                <apex:column headerValue="Scrum Team" value="{!wrapper.work.Scrum_Team__r.Name}"/>	            </apex:pageBlockTable>   	            <apex:panelGrid columns="2" styleClass="adm_table total_row" rendered="{!setController.resultSize > 0}">	                <apex:outputPanel styleclass="">{!rowStart} - {!rowEnd} of {!setController.resultSize}</apex:outputPanel>	                <apex:outputPanel style="width:100%;">	                    <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_first.png')}" rendered="{!NOT(setController.hasPrevious)}" style="opacity:0.4;filter:alpha(opacity=40)"/>	                    <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_previous.png')}" rendered="{!NOT(setController.hasPrevious)}" style="opacity:0.4;filter:alpha(opacity=40)"/>              	                    <apex:commandLink action="{!setController.first}" onclick="overlay('Loading...')" rerender="pageWrapper" rendered="{!setController.hasPrevious}" styleclass="">            	                        <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_first.png')}"/>	                    </apex:commandlink>  	                    <apex:commandLink action="{!setController.previous}" onclick="overlay('Loading...')" rerender="pageWrapper" rendered="{!setController.hasPrevious}" styleclass="">	                        <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_previous.png')}"/>	                    </apex:commandlink>	                    <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_next.png')}" rendered="{!NOT(hasNext)}" style="opacity:0.4;filter:alpha(opacity=40)"/>	                    <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_last.png')}" rendered="{!NOT(setController.hasNext)}" style="opacity:0.4;filter:alpha(opacity=40)"/>              	                    <apex:commandLink action="{!setController.next}" onclick="overlay('Loading...')" rerender="pageWrapper" rendered="{!setController.hasNext}" styleclass="">	                        <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_next.png')}"/>	                    </apex:commandlink>  	                    <apex:commandLink action="{!setController.last}" onclick="overlay('Loading...')" rerender="pageWrapper" rendered="{!setController.hasNext}" styleclass="">	                        <apex:image url="{!URLFOR($Resource.silkIcons, 'icons/resultset_last.png')}"/>	                    </apex:commandlink>  	                </apex:outputPanel>        	            </apex:panelGrid>        	        </apex:pageBlock>	    </apex:form>	    <script type="text/javascript">     	        function overlay(message) {	            el = document.getElementById("overlay");	            loadingMessage = document.getElementById("loadingMessage");	            if(loadingMessage != null) loadingMessage.innerHTML = message;	            el.style.visibility = (el.style.visibility == "visible") ? "hidden" : "visible";            	        }		        function SelectChecked(form, className, value) {            	            for (var i = 0; i < form.elements.length; i++) {	                if (form.elements[i].className == className && form.elements[i].disabled == false) {	                    form.elements[i].checked = value;	                }	            }	        }	           	        function SelectAllOrNoneByCheckbox(className, control) {	            forms = document.getElementsByTagName('form');	            for(var i = 0; i < forms.length; i++) {	                if(className == forms[i].className) {	                    SelectChecked(forms[i], className, control.checked);	                }	            }            	        }	        	        var frames = parent.document.getElementsByTagName( 'iframe' ); // get all els by the tagname iframe   	        var frameTitle = 'Content'; 	        var frameId = '';	        var found = false;	        	        for ( i = 0; i < frames.length; i++ ) {	           if (frames[i].title == frameTitle) { 	                found = true;	                frameId = frames[i].id;            	                break;	           }	        }	        	        if(found) {	            resize(0);	        }	        	        function resize(size) { 	            if(!found) return;   	            	            if(window.addEventListener) {	                window.addEventListener("resize", resize, false);	                window.addEventListener("load", resize, false);	            } else {	                window.attachEvent("resize", resize);	                window.attachEvent("load", resize);	            }    	            	            var iframe = parent.document.getElementById(frameId); 	            var height = document.body.scrollHeight;       	            iframe.style.height = height + 50 + size + 'px';            	        }	    </script>    </apex:outputPanel></apex:page>